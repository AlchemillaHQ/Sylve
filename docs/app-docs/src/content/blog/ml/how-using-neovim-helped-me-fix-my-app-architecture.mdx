---
layout: "../../../layouts/BlogLayout.astro"
title: Neovim എങ്ങനെ എന്റെ ആപ്പിന്റെ ആർക്കിടെക്ചർ മെച്ചപ്പെടുത്താൻ സഹായിച്ചു
description: എൻലൈറ്റൻമെന്റിന്റെയും വിമ്മിന്റെയും (Vim) കരുത്തിനെ കുറിച്ചുള്ള ഒരു കഥ
pubDate: 2024-08-28
author: "Trobo"
---

ആദ്യമായി Neovim ഉപയോഗിച്ച് തുടങ്ങുമ്പോൾ അത് വളരെ പ്രയാസകരമായി തോന്നാം. രണ്ട് വിരലുകൾ മാത്രം ഉപയോഗിച്ച് ടൈപ്പ് ചെയ്യുന്നത് പോലെ തോന്നും, വെറും രണ്ട് വരികൾ എഴുതാൻ പോലും 30 മിനിറ്റ് എടുത്തേക്കാം.

> "പക്ഷേ എനിക്ക് ഈ ആഴ്ച അവസാനത്തിനുള്ളിൽ ഒരുപാട് പ്രോജക്റ്റുകൾ തീർക്കാനുണ്ട്!!!!"

യഥാർത്ഥത്തിൽ, പലരെയും പോലെ ഞാനും ഒരു മികച്ച ഡെവലപ്പർ ആയിരുന്നില്ല. ആപ്പിന്റെ ആർക്കിടെക്ചറിനേക്കാൾ കൂടുതൽ ഫീച്ചറുകൾ നിർമ്മിക്കുന്നതിലായിരുന്നു എന്റെ ശ്രദ്ധ. എന്നാൽ ആപ്പിന്റെ ഇന്റേണൽ സ്ട്രക്ചർ ഒരു കുഴപ്പമാണെന്ന് എനിക്ക് അറിയാമായിരുന്നു.

Neovim-ലേക്ക് മാറിയപ്പോൾ എനിക്ക് വേഗത കുറഞ്ഞതായി തോന്നി. എന്നാൽ ഇത് എന്റെ കോഡ്ബേസ് പരിശോധിക്കാനും, എന്താണ് യഥാർത്ഥത്തിൽ സംഭവിക്കുന്നതെന്ന് മനസ്സിലാക്കാനും, Vim കീബൈൻഡുകൾ പഠിക്കാനും ഉള്ള ഒരു മികച്ച അവസരമായിരുന്നു. ഈ പ്രക്രിയയ്ക്കിടയിൽ, എന്റെ കോഡിലെ ചില തെറ്റായ നെയിമിംഗ് രീതികളും സങ്കീർണ്ണമായ ഡാറ്റാ കൈമാറ്റങ്ങളും ഞാൻ കണ്ടെത്തി.

## കുഴപ്പങ്ങൾ കണ്ടെത്തുന്നു

Tauri, Vue 3 എന്നിവ ഉപയോഗിച്ച് നിർമ്മിച്ച ഒരു ഓപ്പൺ സോഴ്സ് ഓഫ്‌ലൈൻ കാൻബൻ ബോർഡ് ആപ്പാണ് Kanri. കഴിഞ്ഞ രണ്ട് വർഷമായി ഞാൻ ഇതിൽ പ്രവർത്തിക്കുന്നു.

ബോർഡിലെ ഒരു കാർഡും അത് എഡിറ്റ് ചെയ്യാൻ ഉപയോഗിക്കുന്ന മോഡലും (Modal) തമ്മിൽ ഡാറ്റ എങ്ങനെ കൈമാറി എന്നതിലായിരുന്നു പ്രധാന പ്രശ്നം. പഴയ രീതി ഇതായിരുന്നു:

- എല്ലാ ഡാറ്റയും ബോർഡ് റൂട്ടിൽ (`[id].vue`) ആയിരുന്നു.
- മോഡൽ തുറക്കുമ്പോൾ ഒരു `init` മെത്തേഡ് വഴി ഡാറ്റ മോഡലിലേക്ക് അയച്ചു.
- മോഡലിനുള്ളിൽ വെച്ച് എഡിറ്റ് ചെയ്തു.
- എഡിറ്റിങ്ങിന് ശേഷം ഡാറ്റ ബോർഡ് റൂട്ടിലേക്ക് തിരികെ നൽകി.
- അതിനുശേഷം കാർഡ് ഉള്ള കോളം ഐഡിയിലേക്ക് അയച്ചു.
- കോളത്തിനുള്ളിൽ വെച്ച് ഡാറ്റ മാറ്റി.
- അവസാനം ഇത് ബോർഡ് റൂട്ടിലേക്ക് അയച്ച് സ്റ്റോറേജിൽ സേവ് ചെയ്തു.

ഇത് എത്രത്തോളം സങ്കീർണ്ണമാണെന്ന് ഞാൻ മനസ്സിലാക്കി. പഴയ Vue 2 രീതികളുടെ ബാക്കിപത്രമായിരുന്നു ഇത്.

## ഞാൻ കണ്ടെത്തിയ പ്രശ്നങ്ങൾ

- **നെയിമിംഗ് പ്രശ്നങ്ങൾ**: ചിലയിടങ്ങളിൽ കാർഡ് ഇൻഡക്സിനെ ഐഡി എന്ന് വിളിച്ചിരുന്നു, ഇത് ആശയക്കുഴപ്പമുണ്ടാക്കി.
- **Refs-ന്റെ അമിത ഉപയോഗം**: മോഡൽ തുറക്കുമ്പോൾ പ്രോപ്‌സിന് (Props) പകരം റിഫുകൾ (Refs) തെറ്റായി ഉപയോഗിച്ചിരുന്നു.
- **ഡാറ്റാ ഫ്ലോ**: ഡാറ്റ അനാവശ്യമായി പല ലെയറുകളിലൂടെ കടന്നുപോയി.

### ഞാൻ ഇത് എങ്ങനെ ശരിയാക്കി

- **നെയിമിംഗ്**: എല്ലാം കൃത്യമാക്കി.
- **Vue പാറ്റേണുകൾ**: പ്രോപ്‌സും വാച്ചേഴ്സും (Watchers) ഉപയോഗിക്കാൻ തുടങ്ങി.
- **ഡാറ്റാ ഫ്ലോ ലളിതമാക്കി**: ഡാറ്റ എവിടെയാണോ ഉള്ളത് അവിടെ തന്നെ മാറ്റങ്ങൾ വരുത്താൻ തുടങ്ങി.

പുതിയ കോഡിന്റെ ഒരു ഭാഗം താഴെ നൽകുന്നു:

```ts
type CardMutateFunction = (card: Card) => void;

const mutateCardData = (columnId: string, cardIndex: number, mutateCard: CardMutateFunction) => {
    const column = findObjectById<Column>(board.value.columns, columnId);
    const card = column.cards[cardIndex];
    mutateCard(card);
    updateColumnProperties(column);
}

const setCardTitle = (columnId: string, cardIndex: number, title: string) => {
    mutateCardData(columnId, cardIndex, (card) => {
        card.name = title;
    })
}
// ...
```

### ഉപസംഹാരം

രണ്ട് വർഷത്തെ വികസനത്തിന് ശേഷം ഞാൻ പഠിച്ച കാര്യം ഇതാണ്: ചിലപ്പോൾ ഒന്ന് റിലാക്സ് ചെയ്ത് കാര്യങ്ങളെ മാറി നിന്ന് നോക്കണം. പുതിയ ടൂളുകൾ പഠിക്കുന്നത് ദീർഘകാലാടിസ്ഥാനത്തിൽ നിങ്ങളുടെ വേഗത വർദ്ധിപ്പിക്കും.

Neovim ഒന്ന് പരീക്ഷിച്ചു നോക്കാൻ ഞാൻ ശുപാർശ ചെയ്യുന്നു. തുടക്കത്തിൽ വേഗത കുറവാണെന്ന് തോന്നുമെങ്കിലും ഇത് നിങ്ങളെ സഹായിക്കും.

നിങ്ങൾക്ക് ഇതിൽ നിന്ന് എന്തെങ്കിലും പഠിക്കാൻ കഴിഞ്ഞു എന്ന് ഞാൻ കരുതുന്നു. നിങ്ങളുടെ അഭിപ്രായങ്ങൾ എന്നെ അറിയിക്കാം (Twitter: [@trobo_dev](https://twitter.com/trobo_dev)).

നിങ്ങൾക്ക് Kanri താല്പര്യമുണ്ടെങ്കിൽ ഇവിടെ നോക്കൂ: [Kanri GitHub](https://github.com/trobonox/kanri)

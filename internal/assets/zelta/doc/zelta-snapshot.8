.\" Automatically generated by Pandoc 3.8.3
.\"
.TH "zelta\-snapshot" "8" "" "" "System Manager\(cqs Manual"
.SH NAME
\f[B]zelta snapshot\f[R] \- create recursive ZFS snapshots locally or
remotely
.SH SYNOPSIS
\f[B]zelta snapshot\f[R] [\f[I]OPTIONS\f[R]]
\f[I]endpoint\f[R][\(at_snapshot_]
.SH DESCRIPTION
\f[B]zelta snapshot\f[R] creates a recursive snapshot on a dataset tree.
The endpoint may be local or remote via \f[B]ssh(1)\f[R].
.PP
As with other Zelta commands, \f[B]zelta snapshot\f[R] works recursively
on a dataset tree.
This provides a simple way to create consistent, atomic snapshots across
an entire dataset hierarchy without requiring Zelta to be installed on
remote systems.
.PP
Remote endpoint names follow \f[B]scp(1)\f[R] conventions.
Dataset names follow \f[B]zfs(8)\f[R] naming conventions.
.PP
Examples:
.IP
.EX
Local:  pool/dataset
Local:  pool/dataset\(atmy\-snapshot
Remote: user\(atexample.com:pool/dataset
Remote: user\(atexample.com:pool/dataset\(atbackup\-2025\-01\-15
.EE
.SH OPTIONS
\f[B]Endpoint Argument (Required)\f[R]
.TP
\f[I]endpoint\f[R]
The dataset to snapshot.
If a snapshot name is specified with \f[CR]\(atsnapshot\f[R], that name
is used.
Otherwise, the name is determined by the \f[CR]\-\-snap\-name\f[R]
option.
.PP
\f[B]Output Options\f[R]
.TP
\f[B]\-v, \-\-verbose\f[R]
Increase verbosity.
Specify once for operational detail, twice (\f[CR]\-vv\f[R]) for debug
output.
.TP
\f[B]\-q, \-\-quiet\f[R]
Quiet output.
Specify once to suppress warnings, twice (\f[CR]\-qq\f[R]) to suppress
errors.
.TP
\f[B]\-n, \-\-dryrun, \-\-dry\-run\f[R]
Display \f[CR]zfs\f[R] commands without executing them.
.PP
\f[B]Snapshot Options\f[R]
.TP
\f[B]\-\-snap\-name\f[R] \f[I]NAME\f[R]
Specify snapshot name.
Use \f[CR]$(command)\f[R] for dynamic generation.
Default: \f[CR]$(date \-u +zelta_%Y\-%m\-%d_%H.%M.%S)\f[R].
This option is ignored if a snapshot name is provided in the endpoint
argument.
.PP
\f[B]Dataset Options\f[R]
.TP
\f[B]\-d, \-\-depth\f[R] \f[I]LEVELS\f[R]
Limit recursion depth.
For example, a depth of 1 includes only the specified dataset.
.SH EXAMPLES
Create a snapshot with the default naming scheme:
.IP
.EX
zelta snapshot tank/data
.EE
.PP
Create a snapshot with a specific name:
.IP
.EX
zelta snapshot tank/data\(atbefore\-upgrade
.EE
.PP
Create a snapshot on a remote host:
.IP
.EX
zelta snapshot backup\(atstorage.example.com:tank/backups
.EE
.PP
Create a snapshot with a custom naming scheme:
.IP
.EX
zelta snapshot \-\-snap\-name \(dqmanual_$(date +%Y%m%d)\(dq tank/data
.EE
.PP
Dry run to preview the command:
.IP
.EX
zelta snapshot \-n tank/data
.EE
.SH EXIT STATUS
Returns 0 on success, non\-zero on error.
.SH NOTES
See \f[B]zelta\-options(7)\f[R] for environment variables and
\f[CR]zelta.env\f[R] configuration.
.SH SEE ALSO
zelta(8), zelta\-options(7), zelta\-backup(8), zfs(8), zfs\-snapshot(8)
.SH AUTHORS
Daniel J. Bell <\f[I]bellhyve\(atzelta.space\f[R]>
.SH WWW
https://zelta.space
